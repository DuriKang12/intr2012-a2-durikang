<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Memory Match Game</title>
    <script src="https://unpkg.com/isotope-layout@3/dist/isotope.pkgd.min.js"></script>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <h1>Memory Match Game</h1>
    <div id="grid"></div>
    <p>Score: <span id="score">0</span> | Pairs Left: <span id="pairs">10</span></p>

    <h2>Design Rationale</h2>
    <div class="rationale">
        <p><strong>Rationale for Choosing Isotope:</strong> The decision to utilize Isotope, a powerful JavaScript layout library, stems from its exceptional capability to manage dynamic and responsive grids, which is perfectly suited for this Memory Match game. Isotope’s immediate strengths lie in its ability to seamlessly arrange the 4x5 card grid, ensuring a visually appealing and functional interface that adapts as players match pairs and cards are hidden. This proof-of-concept highlights how Isotope simplifies the complex task of maintaining layout integrity during gameplay, offering smooth transitions and real-time updates. The plugin’s filtering and sorting features enhance user interaction by keeping the game organized, while its lightweight nature ensures optimal performance across devices. This choice aligns with the assignment’s goal of demonstrating a plugin’s practical application in creating an engaging, interactive web experience.</p>
        <p><strong>Opportunities Beyond This Proof-of-Concept:</strong> The potential of Isotope extends far beyond this simple game, opening doors to a variety of sophisticated applications. For instance, it could be integrated with a backend system like Firebase to implement a high-score leaderboard, adding a competitive element to the game. Additionally, Isotope’s advanced filtering capabilities could support multiple difficulty levels or themed card sets, enriching the gameplay experience. Beyond gaming, this plugin could power dynamic portfolios where projects are filterable by category, or e-commerce platforms with sortable product grids. Future enhancements might include custom animations using Isotope’s event hooks, mobile optimization for touch interfaces, or even integration with machine learning models to dynamically adjust card layouts based on player behavior, making it a versatile tool for creative and commercial web projects.</p>
    </div>

    <script>
        const grid = document.getElementById('grid');
        const scoreDisplay = document.getElementById('score');
        const pairsDisplay = document.getElementById('pairs');
        let cards = [];
        let flippedCards = [];
        let score = 0;
        let pairs = 10; // 20 cards, 10 pairs

        // Card data (pairs of numbers 1-10)
        const cardValues = [1, 1, 2, 2, 3, 3, 4, 4, 5, 5, 6, 6, 7, 7, 8, 8, 9, 9, 10, 10];
        cardValues.sort(() => Math.random() - 0.5); // Shuffle

        // Initialize grid
        function createGrid() {
            for (let i = 0; i < 20; i++) {
                const card = document.createElement('div');
                card.className = 'card';
                card.dataset.value = cardValues[i];
                card.addEventListener('click', flipCard);
                grid.appendChild(card);
                cards.push(card);
            }
            new Isotope(grid, {
                itemSelector: '.card',
                layoutMode: 'fitRows',
                fitRows: {
                    rowHeight: 100, // Fixed row height to ensure 5 rows
                    columnWidth: 150 // Fixed column width to ensure 4 columns
                }
            });
        }

        // Flip card function
        function flipCard() {
            if (flippedCards.length < 2 && !this.classList.contains('flipped') && !this.classList.contains('matched')) {
                this.classList.add('flipped');
                this.textContent = this.dataset.value;
                flippedCards.push(this);

                if (flippedCards.length === 2) {
                    setTimeout(checkMatch, 1000);
                }
            }
        }

        // Check if cards match
        function checkMatch() {
            if (flippedCards[0].dataset.value === flippedCards[1].dataset.value) {
                flippedCards.forEach(card => card.classList.add('matched'));
                score += 10;
                pairs--;
                scoreDisplay.textContent = score;
                pairsDisplay.textContent = pairs;
                if (pairs === 0) {
                    setTimeout(() => {
                        if (confirm('Congratulations! You won! Score: ' + score + '\nTry Again?')) {
                            resetGame();
                        }
                    }, 500);
                }
            } else {
                flippedCards.forEach(card => {
                    card.classList.remove('flipped');
                    card.textContent = '';
                });
            }
            flippedCards = [];
            Isotope.data(grid).arrange(); // Re-layout grid
        }

        // Reset game function
        function resetGame() {
            cards.forEach(card => {
                card.classList.remove('flipped', 'matched');
                card.textContent = '';
            });
            cardValues.sort(() => Math.random() - 0.5);
            cards.forEach((card, index) => card.dataset.value = cardValues[index]);
            score = 0;
            pairs = 10;
            scoreDisplay.textContent = score;
            pairsDisplay.textContent = pairs;
            Isotope.data(grid).arrange();
        }

        // Start game
        createGrid();
    </script>
</body>
</html>